<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Internet Speeds Explorer — SDG 9 Showcase</title>

  <!-- Fonts & libraries -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

  <!-- Local styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js, Leaflet, topojson, AOS, html2canvas, jspdf -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/topojson-client@3"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <h1>Internet Speeds Explorer — SDG 9</h1>
      <div class="subtitle">Industry, Innovation &amp; Infrastructure — interactive analysis of global internet speeds</div>
    </div>

    <div class="controls">
      <input id="csvFile" type="file" accept=".csv" style="display:none" />
      <button id="uploadBtn" class="btn">Upload CSV</button>
      <button id="useSample" class="btn ghost">Use Sample</button>
      <button id="showKPI" class="btn ghost">Show KPIs</button>
      <button id="exportReport" class="btn ghost">Export PDF</button>
      <button id="toggleTheme" class="btn ghost">Theme</button>
    </div>
  </header>

  <main class="container">
    <!-- Controls -->
    <section class="panel" data-aos="fade-up">
      <div class="row">
        <div class="col">
          <label class="small">Choose year / timeline</label>
          <select id="yearSelect">
            <option value="2024">2024</option>
            <option value="2023">2023</option>
            <option value="both">Compare 2023 vs 2024</option>
          </select>
        </div>

        <div class="col">
          <label class="small">Enter continent (major area)</label>
          <input id="continentInput" placeholder="e.g. Asia, Europe, Americas, Africa, Oceania" />
        </div>

        <div class="col">
          <label class="small">Timeline (2017 → 2024)</label>
          <input id="yearSlider" type="range" min="2017" max="2024" value="2024" />
          <div class="small" style="margin-top:6px">Animating top countries by year: <span id="sliderYear">2024</span></div>
        </div>

        <div class="actionCol">
          <button id="runQuery" class="btn">Run Query</button>
          <button id="topNBtn" class="btn ghost">Top 10</button>
        </div>
      </div>

      <!-- KPIs -->
      <div class="results" style="margin-top:12px">
        <div class="kpiRow">
          <div class="kpi"><div class="small">Global avg (2024)</div><div id="kpiAvg" class="kpiNum">—</div></div>
          <div class="kpi"><div class="small">Countries improved</div><div id="kpiGrowth" class="kpiNum">—</div></div>
          <div class="kpi"><div class="small">SDG-9 Impact</div><div id="kpiImpact" class="kpiNum">—</div></div>
        </div>
      </div>
    </section>

    <!-- Analytics panels -->
    <section class="panel grid" data-aos="fade-up">
      <div class="card">
        <h3>Continent Results</h3>
        <div id="summary" class="small">Run a query to see results.</div>
        <div class="chartWrap"><canvas id="mainChart"></canvas></div>
      </div>

      <div class="card">
        <h3>Region Averages</h3>
        <canvas id="regionAvgChart"></canvas>
      </div>

      <div class="card">
        <h3>Outliers</h3>
        <div id="outliers" class="small">—</div>
      </div>
    </section>

    <!-- Map -->
    <section class="panel" data-aos="fade-up">
      <h3>World Map — interactive choropleth (selected year)</h3>
      <div id="map" style="height:480px;border-radius:10px"></div>
      <div id="mapLegend" class="small" style="margin-top:8px"></div>
    </section>

    <!-- Top list + raw table -->
    <section class="panel grid" data-aos="fade-up">
      <div class="card">
        <h3>Top Countries</h3>
        <ol id="topList" class="small"></ol>
      </div>
      <div class="card">
        <h3>Raw Data Table</h3>
        <div style="overflow:auto;max-height:300px"><table id="dataTable"><thead id="tableHead"></thead><tbody id="tableBody"></tbody></table></div>
      </div>
    </section>

    <!-- Story + solutions -->
    <section class="panel" data-aos="fade-up" id="storyPanel">
      <h3>Project Story — SDG 9</h3>
      <p class="small">This project uses per-country internet speed as a proxy for digital infrastructure and connectivity. Fast improvements indicate investment in broadband, digital policy, and technology adoption — all core to Sustainable Development Goal 9: Industry, Innovation and Infrastructure.</p>

      <h4>What judges should look for</h4>
      <ol class="small">
        <li>Which continents had the greatest average improvements (2023→2024)?</li>
        <li>Which countries are unexplained outliers (big jumps or drops)?</li>
        <li>How does inequality in speeds align with policy, geography, or investment?</li>
      </ol>

      <h4>Policy & Solution Highlights</h4>
      <ul class="small">
        <li>Invest in anchored backbone networks and last-mile connectivity.</li>
        <li>Support public-private partnerships that expand coverage.</li>
        <li>Encourage digital skills training so faster internet drives innovation.</li>
      </ul>
    </section>

    <footer><small>Built for STEAM Showcase — interactive, exportable, and SDG-9 focused.</small></footer>
  </main>

  <script src="script.js"></script>
</body>
</html>
